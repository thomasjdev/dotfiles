###
# aliases
###
alias fixopenwith='/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user'
alias gpgreset='gpgconf --kill gpg-agent && sleep 1 && gpg --card-status'
alias gpgquitagent='gpg-connect-agent killagent /bye'
alias gpgstatus='gpg --card-status'
alias docker-volume-cleanup='docker volume rm $(docker volume ls -qf dangling=true)'

# Safety first
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'

# Mac specific
if [[ `uname` == Darwin ]]; then
  alias dircolors='gdircolors'
  alias ls='gls --color=auto'
  alias pbc='pbcopy'
  alias pbp='pbpaste'
else
  alias ls='ls --color=auto'
fi

# Colorize output and some exclusions
alias grep="grep --color=auto --exclude-dir={.git,artwork,node_modules,vendor}"

###
# All things Chef
###
# Configure chefdk
if [[ -d "/opt/chefdk" ]]; then
    alias llmdev_knife="CHEF='llmdev' knife $@"
    alias llmdev_chef="CHEF='llmdev' chef $@"
    alias llmdev_berks="CHEF='llmdev' berks $@"

    alias llmprod_knife="CHEF='llmprod' knife $@"
    alias llmprod_chef="CHEF='llmprod' chef $@"
    alias llmprod_berks="CHEF='llmprod' berks $@"
    
    alias llmhq_knife="CHEF='llmhq' knife $@"
    alias llmhq_chef="CHEF='llmhq' chef $@"
    alias llmhq_berks="CHEF='llmhq' berks $@"
fi

# Git aliases
alias g='git'
alias ga='git add'
alias gaa='git add --all'
alias gb='git branch'
alias gc='git commit -v'
alias gca='git commit -a -v'
alias gcb='git checkout -b'
alias gcm='git checkout master'
alias gco='git checkout'
alias gd='git diff'
alias gf='git fetch'
alias gl='git pull origin $(git_branch)'
alias glg='git log'
alias gm='git merge'
alias gmm='git merge master'
alias gmv='git mv'
alias gp='git push origin $(git_branch)'
alias grm='git rm'
alias gst='git status'

# `ls` after `cd`
function cd {
  builtin cd "$@" && ls -F
}
